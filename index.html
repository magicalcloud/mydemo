<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable: yes;" />
    <!-- å¼•ç”¨æœ‰å­—åº“ç«™é…·é«˜ç«¯é»‘å­—ä½“ -->
    <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          font-family: "huxiaobo-gdh1e91397a5f211c5", "PingFang SC", "Microsoft Yahei",
            sans-serif;
          /* background: url("NationalDay_MidAutumnFestival.jpg") fixed no-repeat; */
        }

        .container {
          width: 100vw;
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: url("ä¸‡åœ£èŠ‚.jpg") no-repeat;
          background-repeat: no-repeat;
          /* background-size: cover; */
        }
        
        main {
          /* background: #2f3542; */
          display: flex;
          align-items: flex-start;
          justify-content: flex-end;
          height: 100vh;
        }
        
        h1 {
          color: #0c0c0b;
          font-size: 20px;
          font-weight: 300;
        }
        
        span.mark {
          border-right: 1px solid rgb(14, 13, 13);
          animation: blink 0.6s step-end infinite;
        }
        
        @keyframes blink {
          from,
          to {
            border-color: transparent;
          }
          50% {
            border-color: rgb(15, 15, 15);
          }
        }
    </style>
    <title>éœœé™</title>
  </head>
  <body>
    <div class="container">
      <!-- å®šä½æ–‡æœ¬åˆ°æµè§ˆå™¨ä¸­å¤® -->
      <main>
        <!-- æ–‡å­—å®¹å™¨ï¼Œç»Ÿä¸€ç”±h1æ§åˆ¶ -->
        <h1>
          <!-- ä½¿ç”¨spanæ˜¾ç¤ºæ–‡å­—, data-textä¸ºJsonæ ¼å¼çš„æ•°ç»„ -->
          <span
            id="text"
            data-text='["ä»Šå¤©ï¼Œæˆ‘ä»¬éƒ½æ˜¯åŸå¸‚ä¸­æ¸¸è¡çš„å°æœºçµé¬¼ğŸ‘»"]'
          ></span>
          <!-- é—ªçƒçš„å…‰æ ‡ -->
          <span class="mark"></span>
        </h1>
      </main>
    </div>

    <script type="text/javascript">
    // è·å–æ˜¾ç¤ºæ–‡å­—çš„spanå…ƒç´ 
    const textEl = document.querySelector("#text");
    // è·å–å¹¶è§£æè¦å±•ç¤ºçš„æ–‡æœ¬æ•°ç»„
    const texts = JSON.parse(textEl.getAttribute("data-text"));

    // å½“å‰æ˜¾ç¤ºæ–‡æœ¬æ•°ç»„ä¸­çš„ç¬¬å‡ ä¸ª
    let index = 0;
    // å½“å‰æ˜¾ç¤ºç¬¬å‡ ä¸ªå­—
    let charIndex = 0;
    // æ¯ä¸ªå­—æ˜¾ç¤ºé—´éš”é»˜è®¤æ˜¯500æ¯«ç§’
    let delta = 500;

    // è®°å½•åŠ¨ç”»æ‰§è¡Œå¼€å§‹æ—¶é—´
    let start = null;
    // æ˜¯å¦ä¸ºåˆ é™¤åŠ¨ç”»
    let isDeleting = false;

    // åŠ¨ç”»å›è°ƒå‡½æ•°
    function type(time) {
      window.requestAnimationFrame(type);
      // åˆå§‹åŒ–å¼€å§‹æ—¶é—´
      if (!start) start = time;
      // è·å–æ—¶é—´é—´éš”
      let progress = time - start;
      // æ¯éš”ä¸€å®šçš„æ—¶é—´ï¼Œæ‰“å°å‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦
      if (progress > delta) {
        // è·å–å®Œæ•´çš„å­—ç¬¦
        let text = texts[index];
        // å¦‚æœæ˜¯æ‰“å­—æ•ˆæœ
        if (!isDeleting) {
          // ç»™å±•ç¤ºæ–‡å­—çš„spanæ–°å¢ä¸€ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨innerHTMLæ¥æ›¿æ¢ï¼ŒcharIndexè‡ªå¢1ï¼Œç„¶åè¿”å›æ–°çš„å­—ç¬¦ä¸²å­ä¸²
          textEl.innerHTML = text.slice(0, ++charIndex);
          // æ¯ä¸ªå­—ç¬¦æ‰“å°å‡ºæ¥çš„é€Ÿåº¦ä¸ä¸€æ ·ï¼Œæ¨¡ä»¿äººå·¥æ‰“å­—çš„é€Ÿåº¦
          delta = 500 - Math.random() * 400;
        } else {
          // å¦‚æœæ˜¯åˆ é™¤æ•ˆæœï¼Œåˆ™æŠŠæ–‡å­—ä¸€ä¸ªä¸€ä¸ªå‡æ‰
          textEl.innerHTML = text.slice(0, charIndex--);
        }
        // æŠŠstaræ›´æ–°ä¸ºå½“å‰æ—¶é—´ï¼Œè¿›è¡Œä¸‹ä¸€ä¸ªå‘¨æœŸ
        start = time;

        // å¦‚æœæ–‡å­—å·²ç»å…¨éƒ¨æ‰“å°å®Œæ¯•
        if (charIndex === text.length) {
          // ä¸‹æ¬¡å¼€å§‹åˆ é™¤æ–‡å­—
          isDeleting = true;
          // åˆ é™¤æ–‡å­—çš„é—´éš”ä¸º200æ¯«ç§’
          delta = 200;
          // é¢å¤–ç­‰å¾…1.2ç§’åå†åˆ é™¤
          start = time + 1200;
        }

        // å¦‚æœæ–‡å­—åˆ é™¤å®Œæ¯•
        if (charIndex < 0) {
          isDeleting = false;
          // é¢å¤–å¢åŠ 200æ¯«ç§’å»¶è¿Ÿ
          start = time + 200;
          // æŠŠindexç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ–‡æœ¬ï¼Œå¹¶ä¸”åœ¨æ–‡æœ¬æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸­å¾ªç¯
          index = ++index % texts.length;
        }
      }
    }

    window.requestAnimationFrame(type);
    // <img class="source-image" src="shuangjiang.jpg" alt="" />
    // $(document).ready(function() { var $winwidth = $(window).width(); $("img.source-image").attr({ width: $winwidth }); $(window).bind("resize", function(){ var $winwidth = $(window).width(); $("img.source-image").attr({ width: $winwidth }); }); });
    // img.source-image {position: absolute;top: 0;left: 0}
    </script>
  </body>
</html>